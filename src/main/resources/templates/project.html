<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
	<form action="#" th:action="@{/}">
		<input type="submit" value  = "HOME"/>
	</form>
    <p th:text="'Project name: ' + ${project.name}"></p>
    <p th:text="'Prof: ' + ${project.prof}"></p>
    <p th:text="'Students: ' + ${project.name}"></p>
    <p th:text="'Max Students: ' + ${project.maxStudents}"></p>
	<div th:if="${not #lists.isEmpty(project.applicants)}">
		<p>Applicants</p>
		<table>
		        <tr th:each="studentApplied : ${project.applicants}">
		            <td th:text="${studentApplied.name}"></td>
		            <td>
		            	<form action="#" th:action="@{/approveForProject}">
	                		<input type="text" th:name="projectId" th:value="${project.id}" hidden="true"/>
	                		<input type="text" th:name="studentName" th:value="${studentApplied.username}" hidden="true"/>
	                		<input type="submit" value="Approve" />
	        			</form>
		            </td>   
		        </tr>
		</table>
	</div>
	<div th:if="${not #lists.isEmpty(project.students)}">
		<p>Approved Students</p>
		<table>
		        <tr th:each="studentApproved : ${project.students}">
		            <td th:text="${studentApproved.name}"></td>     
		        </tr>
		</table>
	</div>
	
	<form action="#" th:action="@{/withdrawProject}">
		<input type="text" th:name="projectId" th:value="${project.id}" hidden="true"/>
		<input type="submit" value="Withdraw" />
	</form>
	
	<form action="#" th:action="@{/applyForProject}">
		<input type="text" th:name="projectId" th:value="${project.id}" hidden="true"/>
		<input type="submit" value="Apply" />
	</form>
	
	
    
</body>
</html>